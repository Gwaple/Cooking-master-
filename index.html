<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ChefMaster: Ultimate Cooking Adventure</title>
  <meta name="viewport" content="width=700, initial-scale=1">
  <style>
    html,body { margin:0;padding:0;background:linear-gradient(to bottom,#ffe7c9 0%,#e1bb89 100%);}
    body { font-family: 'Segoe UI', Arial, sans-serif; }
    #chef-home, #chef-auth, #chef-cuisine-select { transition: opacity .3s; }
    #chef-userbar {
      position:absolute;top:10px;left:10px;z-index:10;display:none;
      font-size:1.08em;background:rgba(255,255,255,0.95);
      padding:10px 25px 10px 20px;border-radius:20px;box-shadow:0 1px 8px #dabd96;}
    #chef-userbar button { margin-left:12px;background:#ffeaea;border:1px solid #fdc7c7;border-radius:6px;color:#b22222;cursor:pointer;}
    #chef-userbar .chef-xp {margin-left:18px;color:#fb8c00;font-weight:bold;}
    #chef-app-canvas {
      display:block;margin:80px auto 0 auto;background:#fffbe9;box-shadow:0 5px 36px #c98f4a44;border-radius:22px;
      outline: none;
    }
    .chef-btn {
      background:#fb8c00;color:#fff;font-weight:bold;font-size:1.15em;border:none;
      border-radius:14px;padding:15px 44px;box-shadow:0 3px 20px #fb8c00aa;cursor:pointer;transition:background .2s;
    }
    .chef-btn:hover { background:#ffb300; color:#a64b00;}
    .chef-input { width:90%;margin-bottom:12px;padding:10px;font-size:1.14em;border-radius:8px;border:1px solid #c98f4a;}
    #chef-shop, #chef-customize {
      display:none;position:fixed;left:0;top:0;width:100vw;height:100vh;z-index:20;align-items:center;justify-content:center;
      background:rgba(56,42,38,0.87);
    }
    #chef-shop-content, #chef-customize-content {
      background:#fffbe9;border-radius:22px;box-shadow:0 3px 36px #fb8c00;padding:38px 44px 32px 44px;min-width:320px;max-width:540px;
      text-align:center;
    }
    .shop-item, .custom-item { display:inline-block;margin:15px 18px;text-align:center;vertical-align:top;}
    .shop-item .shop-img {font-size:2.2em;}
    .custom-item .custom-img {font-size:2.4em;}
    .shop-btn, .custom-btn {
      margin-top:10px;background:#fb8c00;color:#fff;font-weight:bold;padding:6px 28px;border-radius:9px;cursor:pointer;border:none;
    }
    .shop-btn:disabled {background:#aaa;cursor:not-allowed;}
    .custom-selected {border:2px solid #fb8c00;border-radius:13px;}
    .player-preview {display:inline-block;background:#fffbe9;border-radius:13px;padding:14px 22px;margin-bottom:14px;}
    #chef-currency {font-size:1.1em;margin-bottom:18px;}
    #chef-cuisine-select {
      display:none;position:fixed;z-index:15;left:0;top:0;width:100vw;height:100vh;align-items:center;justify-content:center;background:rgba(56,42,38,0.85);
    }
    #chef-cuisine-box {
      background:#fffbe9;border-radius:28px;box-shadow:0 3px 36px #fb8c00;padding:36px 36px 22px 36px;min-width:340px;max-width:540px;
      text-align:center;
    }
    .cuisine-btn {
      margin:14px; font-size:1.2em; padding:16px 34px; border-radius:13px; border:2px solid #fb8c00; background:#fffbe9; color:#fb8c00; cursor:pointer; font-weight:bold;
      transition:background .2s, color .2s;
    }
    .cuisine-btn:hover { background:#fb8c00; color:#fffbe9;}
    #chef-sidequests {
      position:absolute;top:30px;right:40px;z-index:10;
      background:rgba(255,250,220,0.98);border-radius:13px;padding:17px 28px;font-size:1.07em;
      box-shadow:0 2px 20px #fb8c00a0;min-width:220px;max-width:320px;
      color:#7f4b00;
      display:none;
    }
    #chef-sidequests h3 {margin:0 0 8px 0;font-size:1.13em;color:#fb8c00;}
    #chef-sidequests ul {margin:0 0 0 14px;padding:0;}
    #chef-sidequests li {margin-bottom:7px;}
  </style>
</head>
<body>
<!-- HOMEPAGE -->
<div id="chef-home">
  <div id="chef-home-panel">
    <canvas id="chef-home-anim" width="620" height="320"></canvas>
    <h1 style="color:#fb8c00;font-family:Arial Black,Arial,sans-serif;font-size:2.2em;letter-spacing:2px;margin:0 0 14px 0;text-shadow:0 3px 12px #fffbe9,0 1px 0 #c96c1c;">CHEFMASTER</h1>
    <div style="color:#533c28;font-size:1.17em;margin-bottom:20px;">
      <p>Cook, collect, customize!<br>
      Choose your chef, visit the shop, and compete in the kitchen.</p>
    </div>
    <button onclick="chefShowLoginPanel()" class="chef-btn">Sign In / Register</button>
    <div style="margin-top:20px;font-size:1.09em;color:#b66a00;">By Gwaple</div>
  </div>
</div>
<!-- LOGIN/REGISTER OVERLAY -->
<div id="chef-auth" style="display:none;position:fixed;z-index:12;left:0;top:0;width:100vw;height:100vh;align-items:center;justify-content:center;background:rgba(56,42,38,0.88);">
  <div id="chef-login-box" style="background:#fffbe9;border-radius:18px;box-shadow:0 2px 24px #b66a00;padding:38px 34px 26px 34px;min-width:260px;max-width:340px;">
    <h2 style="margin-top:0;text-align:center;color:#fb8c00;">Sign In</h2>
    <input id="chef-login-user" class="chef-input" placeholder="Username"><br>
    <input id="chef-login-pass" type="password" class="chef-input" placeholder="Password"><br>
    <button onclick="chefLogin()" class="chef-btn" style="width:90%;">Sign In</button>
    <button onclick="chefShowRegister()" class="chef-btn" style="width:90%;margin-top:7px;background:#fffbe9;color:#fb8c00;border:1px solid #fb8c00;">Register</button>
    <button onclick="chefGoHome()" class="chef-btn" style="width:90%;margin-top:7px;background:#fff;color:#382a26;border:1px solid #c96c1c;">Home</button>
    <div id="chef-login-msg" style="min-height:18px;margin-top:11px;color:#ff6060;"></div>
  </div>
  <div id="chef-register-box" style="display:none;background:#fffbe9;border-radius:18px;box-shadow:0 2px 24px #b66a00;padding:38px 34px 26px 34px;min-width:260px;max-width:340px;">
    <h2 style="margin-top:0;text-align:center;color:#fb8c00;">Register</h2>
    <input id="chef-reg-user" class="chef-input" placeholder="Username"><br>
    <input id="chef-reg-pass" type="password" class="chef-input" placeholder="Password"><br>
    <button onclick="chefRegister()" class="chef-btn" style="width:90%;">Register</button>
    <button onclick="chefShowLogin()" class="chef-btn" style="width:90%;margin-top:7px;background:#fffbe9;color:#fb8c00;border:1px solid #fb8c00;">Back</button>
    <button onclick="chefGoHome()" class="chef-btn" style="width:90%;margin-top:7px;background:#fff;color:#382a26;border:1px solid #c96c1c;">Home</button>
    <div id="chef-register-msg" style="min-height:18px;margin-top:11px;color:#8dff6e;"></div>
  </div>
</div>
<!-- SHOP -->
<div id="chef-shop">
  <div id="chef-shop-content">
    <h2 style="color:#fb8c00;">Ingredients Shop</h2>
    <div id="chef-currency"></div>
    <div id="chef-shop-items"></div>
    <button onclick="chefHideShop()" class="chef-btn" style="margin-top:18px;background:#eee;color:#fb8c00;">Close</button>
  </div>
</div>
<!-- CUSTOMIZE -->
<div id="chef-customize">
  <div id="chef-customize-content">
    <h2 style="color:#fb8c00;">Chef Customization</h2>
    <div class="player-preview" id="chef-preview"></div>
    <div id="customize-options"></div>
    <button onclick="chefSaveCustomize()" class="chef-btn" style="margin-top:12px;">Save</button>
    <button onclick="chefHideCustomize()" class="chef-btn" style="margin-top:12px;background:#eee;color:#fb8c00;">Cancel</button>
  </div>
</div>
<!-- CUISINE SELECT -->
<div id="chef-cuisine-select">
  <div id="chef-cuisine-box">
    <h2 style="color:#fb8c00;">Choose Cuisine World</h2>
    <div id="cuisine-options"></div>
    <button onclick="chefHideCuisineSelect()" class="cuisine-btn" style="background:#eee;color:#fb8c00;">Cancel</button>
  </div>
</div>
<!-- USERBAR -->
<div id="chef-userbar">
  <span id="chef-userbar-welcome"></span>
  <span class="chef-xp"></span>
  <button onclick="chefShowShop()">Shop</button>
  <button onclick="chefShowCustomize()">Customize</button>
  <button onclick="chefShowCuisineSelect(()=>chefMainGame())">Cuisine</button>
  <button onclick="chefLogout()">Logout</button>
</div>
<!-- SIDE QUESTS PANEL -->
<div id="chef-sidequests"></div>
<!-- MAIN GAME CANVAS -->
<canvas id="chef-app-canvas" width="620" height="840" tabindex="0"></canvas>
<script>
/* --- HOMEPAGE: Realistic Chef + Kitchen (Canvas) --- */
function chefAnimHomepage() {
  const c = document.getElementById('chef-home-anim');
  if (!c) return;
  const ctx = c.getContext('2d');
  let t = 0;
  function drawChef(x,y,blink,wave,colors) {
    ctx.save();
    // Shadow
    ctx.globalAlpha=0.18;
    ctx.beginPath(); ctx.ellipse(x+10,y+120,54,18,0,0,2*Math.PI); ctx.fillStyle="#000"; ctx.fill();
    ctx.globalAlpha=1;
    // Apron/body
    ctx.translate(x,y);
    ctx.beginPath(); ctx.ellipse(0,85,42,56,0,0,2*Math.PI); ctx.fillStyle=colors.apron; ctx.fill();
    // Arms (with waving motion)
    ctx.save(); ctx.translate(-33,36); ctx.rotate(Math.sin(t/18)*0.4*(wave?1:0)+0.2);
    ctx.fillStyle=colors.skin; ctx.fillRect(-8,0,16,48);
    ctx.beginPath(); ctx.arc(0,54,11,0,2*Math.PI); ctx.fillStyle=colors.skin; ctx.fill();
    ctx.restore();
    ctx.save(); ctx.translate(33,36); ctx.rotate(-0.2);
    ctx.fillStyle=colors.skin; ctx.fillRect(-8,0,16,48);
    ctx.beginPath(); ctx.arc(0,54,11,0,2*Math.PI); ctx.fillStyle=colors.skin; ctx.fill();
    ctx.restore();
    // Head
    ctx.beginPath(); ctx.arc(0,0,40,0,2*Math.PI); ctx.fillStyle=colors.skin; ctx.fill();
    // Eyes
    ctx.save();
    ctx.translate(-14,-8);
    ctx.beginPath(); ctx.ellipse(0,0,6,blink?2:6,0,0,2*Math.PI);
    ctx.ellipse(28,0,6,blink?2:6,0,0,2*Math.PI);
    ctx.fillStyle="#222"; ctx.fill();
    ctx.restore();
    // Smile
    ctx.beginPath(); ctx.arc(7,22,16,0.07*Math.PI,0.75*Math.PI,false); ctx.lineWidth=3; ctx.strokeStyle="#a44"; ctx.stroke();
    // Hat (shadow)
    ctx.save();
    ctx.globalAlpha=0.08;
    ctx.beginPath(); ctx.ellipse(0,-34,49,18,0,0,2*Math.PI); ctx.fillStyle="#000"; ctx.fill();
    ctx.restore();
    // Hat
    ctx.beginPath(); ctx.ellipse(0,-34,36,14,0,0,2*Math.PI); ctx.fillStyle=colors.hat; ctx.fill();
    ctx.beginPath(); ctx.ellipse(0,-52,22+Math.sin(t/18)*2,13,0,0,2*Math.PI); ctx.fill();
    ctx.restore();
  }
  function drawKitchen() {
    // BG wall
    ctx.fillStyle="#f8eac8"; ctx.fillRect(0,0,620,320);
    // Counter
    ctx.fillStyle="#e1bb89"; ctx.fillRect(0,210,620,50);
    ctx.strokeStyle="#c98f4a"; ctx.lineWidth=2; ctx.strokeRect(0,210,620,50);
    // Stove
    ctx.fillStyle="#ccc"; ctx.fillRect(420,185,90,25);
    ctx.fillStyle="#999"; ctx.fillRect(430,200,70,17);
    // Pans
    ctx.save(); ctx.translate(460,193);
    ctx.rotate(Math.sin(t/19)*0.10);
    ctx.beginPath(); ctx.ellipse(0,0,18,8,0,0,2*Math.PI); ctx.fillStyle="#555"; ctx.fill();
    ctx.beginPath(); ctx.ellipse(0,0,14,5,0,0,2*Math.PI); ctx.fillStyle="#222"; ctx.fill();
    ctx.restore();
    // Pot
    ctx.save(); ctx.translate(500,195); ctx.rotate(0.08-Math.cos(t/11)*0.04);
    ctx.beginPath(); ctx.ellipse(0,0,13,9,0,0,2*Math.PI); ctx.fillStyle="#a2c4c9"; ctx.fill();
    ctx.beginPath(); ctx.ellipse(0,0,8,5,0,0,2*Math.PI); ctx.fillStyle="#7bb8b8"; ctx.fill();
    ctx.restore();
    // Utensils
    ctx.save();
    ctx.strokeStyle="#987"; ctx.lineWidth=4; ctx.lineCap="round";
    ctx.beginPath(); ctx.moveTo(150,210); ctx.lineTo(150,160); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(170,210); ctx.lineTo(170,170); ctx.stroke();
    ctx.lineWidth=2;
    ctx.beginPath(); ctx.arc(170,167,7,0,Math.PI*2); ctx.strokeStyle="#aaa"; ctx.stroke();
    ctx.restore();
    // Vegetables/fruits
    ctx.font="2.2em serif";
    ctx.fillText("🍅", 210, 250+Math.sin(t/13)*5);
    ctx.fillText("🧀", 245, 248+Math.cos(t/17)*5);
    ctx.fillText("🥦", 280, 253+Math.sin(t/18)*5);
    ctx.fillText("🍞", 320, 252+Math.cos(t/14)*4);
    ctx.fillText("🥕", 360, 251+Math.sin(t/12)*4);
  }
  function draw() {
    ctx.clearRect(0,0,620,320);
    drawKitchen();
    drawChef(115,130, Math.floor(t/48)%2==0, true, {skin:"#f0c4a2", hat:"#fff", apron:"#fb8c00"});
    drawChef(340,148, false, false, {skin:"#ffe7c9", hat:"#fff", apron:"#1abc9c"});
    ctx.save();
    ctx.globalAlpha=0.90;
    drawChef(510,170, Math.floor(t/53)%3==0, false, {skin:"#d1a176", hat:"#fff", apron:"#e74c3c"});
    ctx.restore();
    t++;
    requestAnimationFrame(draw);
  }
  draw();
}
chefAnimHomepage();
/* -- LOGIN, REGISTER, HOMEPAGE FLOW -- */
function chefShowLoginPanel(){
  document.getElementById('chef-home').style.display='none';
  document.getElementById('chef-auth').style.display='flex';
  chefShowLogin();
}
function chefGoHome(){
  document.getElementById('chef-home').style.display='';
  document.getElementById('chef-auth').style.display='none';
  document.getElementById('chef-userbar').style.display="none";
  chefClearMainApp();
}
function chefShowLogin(){
  document.getElementById('chef-login-box').style.display="";
  document.getElementById('chef-register-box').style.display="none";
  chefSetMsg('chef-login-msg',"",true);chefSetMsg('chef-register-msg',"",true);
}
function chefShowRegister(){
  document.getElementById('chef-login-box').style.display="none";
  document.getElementById('chef-register-box').style.display="";
  chefSetMsg('chef-login-msg',"",true);chefSetMsg('chef-register-msg',"",true);
}
/* --- Shop, Customization, Cuisine, User/Storage, Main Game --- */
const INGREDIENTS = [
  {id:"tomato",name:"Tomato",emoji:"🍅",price:10},
  {id:"cheese",name:"Cheese",emoji:"🧀",price:15},
  {id:"basil",name:"Basil",emoji:"🌿",price:8},
  {id:"shrimp",name:"Shrimp",emoji:"🦐",price:25},
  {id:"beef",name:"Beef",emoji:"🥩",price:22},
  {id:"mushroom",name:"Mushroom",emoji:"🍄",price:12},
  {id:"egg",name:"Egg",emoji:"🥚",price:7},
  {id:"avocado",name:"Avocado",emoji:"🥑",price:19},
  {id:"lemon",name:"Lemon",emoji:"🍋",price:10}
];
const CUSTOMIZE_OPTIONS = {
  hat: [
    {id:"chef",emoji:"👨‍🍳",name:"Classic"},
    {id:"beret",emoji:"🧑‍🎨",name:"Beret"},
    {id:"crown",emoji:"👑",name:"Crown"},
    {id:"pirate",emoji:"🏴‍☠️",name:"Pirate"}
  ],
  apron: [
    {id:"white",emoji:"⬜️",name:"White"},
    {id:"orange",emoji:"🟧",name:"Orange"},
    {id:"blue",emoji:"🟦",name:"Blue"},
    {id:"green",emoji:"🟩",name:"Green"}
  ],
  face: [
    {id:"smile",emoji:"😊",name:"Smile"},
    {id:"sunglasses",emoji:"😎",name:"Cool"},
    {id:"wink",emoji:"😉",name:"Wink"},
    {id:"mustache",emoji:"🥸",name:"Stache"}
  ]
};
const CUISINES = [
  {name:"Italian",emoji:"🍕"},
  {name:"Japanese",emoji:"🍣"},
  {name:"French",emoji:"🥐"},
  {name:"Mexican",emoji:"🌮"},
  {name:"Indian",emoji:"🍛"},
  {name:"Chinese",emoji:"🥟"}
];
const defaultProgress = ()=>({
  currency: 50,
  inventory: [],
  customize: {hat:"chef",apron:"white",face:"smile"},
  cuisine: 0,
  xp: 0,
  level: 1
});
let chefCurrentUser = "";
let chefProgress = defaultProgress();
function chefUserKey(u){return 'chef-user-'+u;}
function chefProgressKey(u){return 'chef-progress-'+u;}
function chefSaveUser(u,p){localStorage.setItem(chefUserKey(u),JSON.stringify({password:p}));}
function chefGetUser(u){try{return JSON.parse(localStorage.getItem(chefUserKey(u)));}catch(e){return null;}}
function chefSaveProgress(){
  if(chefCurrentUser)localStorage.setItem(chefProgressKey(chefCurrentUser),JSON.stringify(chefProgress));
}
function chefLoadProgress(){
  if(chefCurrentUser){
    let p=localStorage.getItem(chefProgressKey(chefCurrentUser));
    chefProgress=p?JSON.parse(p):defaultProgress();
  }
}
function chefSetMsg(id,msg,ok){let el=document.getElementById(id);el.textContent=msg;el.style.color=ok?"#86ffae":"#ff6060";}
function chefLogin(){
  let u=document.getElementById('chef-login-user').value.trim(),p=document.getElementById('chef-login-pass').value;
  let user=chefGetUser(u);
  if(!u||!p)return chefSetMsg('chef-login-msg',"Enter username & password.");
  if(!user)return chefSetMsg('chef-login-msg',"User not found.");
  if(user.password!==p)return chefSetMsg('chef-login-msg',"Wrong password.");
  chefCurrentUser=u;
  chefLoadProgress();
  document.getElementById('chef-auth').style.display="none";
  document.getElementById('chef-userbar-welcome').textContent="Hello, "+u+"!";
  document.getElementById('chef-userbar').style.display="";
  chefShowXP();
  chefDrawMainApp();
}
function chefRegister(){
  let u=document.getElementById('chef-reg-user').value.trim(),p=document.getElementById('chef-reg-pass').value;
  if(!u||!p)return chefSetMsg('chef-register-msg',"Enter username & password.",false);
  if(chefGetUser(u))return chefSetMsg('chef-register-msg',"User already exists.",false);
  chefSaveUser(u,p);chefSetMsg('chef-register-msg',"Registered! You can sign in now.",true);
}
function chefLogout(){
  chefCurrentUser="";document.getElementById('chef-userbar').style.display="none";
  chefGoHome();
}
function chefShowXP() {
  document.querySelector("#chef-userbar .chef-xp").textContent = `💰${chefProgress.currency}   XP:${chefProgress.xp}   Level:${chefProgress.level}`;
}
/* --- SHOP --- */
function chefShowShop() {
  chefShowXP();
  document.getElementById('chef-shop').style.display="flex";
  document.getElementById('chef-currency').textContent = `Your coins: 💰${chefProgress.currency}`;
  let html = INGREDIENTS.map(ing=>{
    let owned = chefProgress.inventory.includes(ing.id);
    return `<div class="shop-item">
      <div class="shop-img">${ing.emoji}</div>
      <div>${ing.name}</div>
      <div>💰${ing.price}</div>
      <button class="shop-btn" onclick="chefBuyIngredient('${ing.id}')" ${owned?"disabled":""}>${owned?"Owned":"Buy"}</button>
    </div>`;
  }).join("");
  document.getElementById('chef-shop-items').innerHTML = html;
}
function chefHideShop() {
  document.getElementById('chef-shop').style.display="none";
}
function chefBuyIngredient(id) {
  let ing = INGREDIENTS.find(i=>i.id==id);
  if (!ing) return;
  if (chefProgress.currency<ing.price) {alert("Not enough coins!");return;}
  chefProgress.currency -= ing.price;
  chefProgress.inventory.push(id);
  chefSaveProgress();
  chefShowShop();
  chefShowXP();
}
/* --- CUSTOMIZE --- */
function chefShowCustomize() {
  chefLoadProgress();
  document.getElementById('chef-customize').style.display="flex";
  chefUpdateCustomize();
}
function chefHideCustomize() {
  document.getElementById('chef-customize').style.display="none";
}
function chefUpdateCustomize() {
  let preview = document.getElementById('chef-preview');
  let c = chefProgress.customize;
  preview.innerHTML = `
  <span style="font-size:3em;">${CUSTOMIZE_OPTIONS.hat.find(h=>h.id==c.hat).emoji}</span>
  <span style="font-size:3em;">${CUSTOMIZE_OPTIONS.face.find(f=>f.id==c.face).emoji}</span><br>
  <span style="font-size:2.2em;">${CUSTOMIZE_OPTIONS.apron.find(a=>a.id==c.apron).emoji}</span>
  `;
  let html = '';
  for (const part of ["hat","apron","face"]) {
    html += `<div style="margin:12px 0;"><b>${part.charAt(0).toUpperCase()+part.slice(1)}</b><br>`;
    html += CUSTOMIZE_OPTIONS[part].map(opt=>
      `<span class="custom-item ${c[part]==opt.id?'custom-selected':''}">
        <span class="custom-img" onclick="chefSelectCustom('${part}','${opt.id}')">${opt.emoji}</span><br>${opt.name}
      </span>`
    ).join("");
    html += `</div>`;
  }
  document.getElementById('customize-options').innerHTML = html;
}
function chefSelectCustom(part, id) {
  chefProgress.customize[part] = id;
  chefUpdateCustomize();
}
function chefSaveCustomize() {
  chefSaveProgress();
  chefHideCustomize();
  chefDrawMainApp();
}
/* --- CUISINE SELECT --- */
function chefShowCuisineSelect(cb) {
  let cs = document.getElementById('chef-cuisine-select'), box = document.getElementById('cuisine-options');
  cs.style.display="flex";
  box.innerHTML = CUISINES.map((c,i)=>`<button class="cuisine-btn" onclick="chefChooseCuisine(${i})">${c.emoji} ${c.name}</button>`).join("");
  window._cuisineCB = cb;
}
function chefHideCuisineSelect() {
  document.getElementById('chef-cuisine-select').style.display="none";
}
function chefChooseCuisine(ix) {
  chefProgress.cuisine = ix;
  chefSaveProgress();
  chefHideCuisineSelect();
  if(window._cuisineCB) window._cuisineCB();
}
/* --- MAIN GAME (basic example: shows chef, ingredients, and coins) --- */
function chefDrawMainApp() {
  let c=document.getElementById('chef-app-canvas'),ctx=c.getContext('2d');
  ctx.clearRect(0,0,c.width,c.height);
  // Draw custom chef avatar
  let cust = chefProgress.customize;
  ctx.font="4em serif";
  ctx.fillText(CUSTOMIZE_OPTIONS.hat.find(h=>h.id==cust.hat).emoji,110,180);
  ctx.fillText(CUSTOMIZE_OPTIONS.face.find(f=>f.id==cust.face).emoji,110,220);
  ctx.font="3.5em serif";
  ctx.fillText(CUSTOMIZE_OPTIONS.apron.find(a=>a.id==cust.apron).emoji,110,260);
  ctx.font="1.4em Arial";
  ctx.fillStyle="#fb8c00";
  ctx.fillText("Your Cuisine: "+CUISINES[chefProgress.cuisine].emoji+" "+CUISINES[chefProgress.cuisine].name,60,320);
  ctx.fillText("Your Ingredients:",60,370);
  // Draw inventory
  let inv = chefProgress.inventory;
  let x=60, y=410;
  for (let i=0;i<INGREDIENTS.length;i++) {
    if (inv.includes(INGREDIENTS[i].id)) {
      ctx.font="2em serif";
      ctx.fillText(INGREDIENTS[i].emoji,x,y);
      ctx.font="1em Arial"; ctx.fillStyle="#533c28";
      ctx.fillText(INGREDIENTS[i].name,x-8,y+30);
      x += 70;
      if (x>550) {x=60;y+=70;}
    }
  }
  ctx.font="1.1em Arial"; ctx.fillStyle="#888";
  ctx.fillText("Visit Shop to buy more. Customize your chef for fun! Select Cuisine for more.",60,700);
}
function chefClearMainApp() {
  let c=document.getElementById('chef-app-canvas'),ctx=c.getContext('2d');
  ctx.clearRect(0,0,c.width,c.height);
}
</script>
</body>
</html>
